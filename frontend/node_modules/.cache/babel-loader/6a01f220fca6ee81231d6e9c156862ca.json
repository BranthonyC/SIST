{"ast":null,"code":"import _classCallCheck from \"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/app/src/pages/Home.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Panel, PanelHeader, PanelBody } from \"./../components/panel/panel.jsx\";\n\nvar Home = /*#__PURE__*/function (_React$Component) {\n  _inherits(Home, _React$Component);\n\n  var _super = _createSuper(Home);\n\n  function Home() {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      instituciones_financieras: [],\n      cuentahabientes: []\n    };\n\n    _this.crearNuevaEntidadFinanciera = function (e) {\n      e.preventDefault();\n      var instituciones_financieras = _this.state.instituciones_financieras;\n      var inputs = e.target.getElementsByTagName(\"input\");\n      var data = {\n        nombre: inputs[0].value,\n        abreviacion: inputs[1].value\n      }; // instituciones_financieras.push(data);\n      // this.setState({ instituciones_financieras: instituciones_financieras });\n\n      axios.post(\"http://localhost:5000/api/institucion/create/\", data).then(function (response) {\n        instituciones_financieras.push(response.data.payload);\n\n        _this.setState({\n          instituciones_financieras: instituciones_financieras\n        });\n      }, function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.eliminarInstitucion = function (nombre, abreviacion) {\n      console.log(\"Eliminar tal cosa\");\n      var instituciones_financieras = _this.state.instituciones_financieras;\n      var data = {\n        nombre: nombre,\n        abreviacion: abreviacion\n      };\n      axios.post(\"http://localhost:5000/api/institucion/delete/\", data).then(function (response) {\n        instituciones_financieras.pop(response.data.payload);\n\n        _this.setState({\n          instituciones_financieras: instituciones_financieras\n        });\n      }, function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.eliminarCuentahabiente = function (cui) {\n      var instituciones_financieras = _this.state.instituciones_financieras;\n      var data = {\n        cui: cui\n      };\n      axios.post(\"http://localhost:5000/api/institucion/delete/\", data).then(function (response) {\n        instituciones_financieras.pop(response.data.payload);\n\n        _this.setState({\n          instituciones_financieras: instituciones_financieras\n        });\n      }, function (error) {\n        console.log(error);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get(\"http://localhost:5000/api/institucion/list\").then(function (res) {\n        var instituciones_financieras = res.data;\n\n        _this2.setState({\n          instituciones_financieras: JSON.parse(instituciones_financieras.payload)\n        });\n      });\n      axios.get(\"http://localhost:5000/api/cuentahabiente/list\").then(function (res) {\n        var cuentahabientes = res.data;\n\n        _this2.setState({\n          cuentahabientes: JSON.parse(cuentahabientes.payload)\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"ol\", {\n        className: \"breadcrumb float-xl-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        className: \"breadcrumb-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }\n      }, \"Sistema SIST\")), /*#__PURE__*/React.createElement(\"li\", {\n        className: \"breadcrumb-item active\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }\n      }, \"Listar, Crear, Actualizar\")), /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"page-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }\n      }, \"Sistema SIST\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }\n      }, \"Sistema SIST para el proyecto final de Bases de Datos 2\")), /*#__PURE__*/React.createElement(Panel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(PanelHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }\n      }, \"Entidades Financieras Existentes\"), /*#__PURE__*/React.createElement(PanelBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        className: \"w-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }\n      }, \"Nombre\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }\n      }, \"Abreviaci\\xF3n\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }\n      }, \"Acciones\")), this.state.instituciones_financieras.length > 0 ? this.state.instituciones_financieras.map(function (institucion_financiera) {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: \"\".concat(institucion_financiera.abreviacion),\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 23\n          }\n        }, institucion_financiera.nombre), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 23\n          }\n        }, institucion_financiera.abreviacion), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-danger\",\n          onClick: function onClick(e) {\n            e.preventDefault();\n\n            _this3.eliminarInstitucion(institucion_financiera.nombre, institucion_financiera.abreviacion);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }\n        }, \"Eliminar\")));\n      }) : /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 17\n        }\n      }, \"Cargando...\")))), /*#__PURE__*/React.createElement(Panel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(PanelHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }\n      }, \"Crear una nueva entidad financiera\"), /*#__PURE__*/React.createElement(PanelBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.crearNuevaEntidadFinanciera,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group row m-b-15\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"col-form-label col-md-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 17\n        }\n      }, \"Nombre\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-9\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control m-b-5\",\n        placeholder: \"Nombre de la entidad bancaria\",\n        name: \"nombre\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"small\", {\n        className: \"f-s-12 text-grey-darker\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 19\n        }\n      }, \"Nombre de la entidad financiera\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group row m-b-15\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"col-form-label col-md-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 17\n        }\n      }, \"Abreviatura\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-9\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control m-b-5\",\n        placeholder: \"Introduce una abreviatura\",\n        name: \"abreviacion\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"small\", {\n        className: \"f-s-12 text-grey-darker\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 19\n        }\n      }, \"Abreviatura de la entidad bancaria\"))), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-reddit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 15\n        }\n      }, \"Registrar nueva entidad financiera\")))), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Panel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(PanelHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }\n      }, \"Cuentahabientes Existentes\"), /*#__PURE__*/React.createElement(PanelBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        className: \"w-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 17\n        }\n      }, \"Cui\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 17\n        }\n      }, \"Nombre\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 17\n        }\n      }, \"Apellido\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 17\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 17\n        }\n      }, \"fecha_registro\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 17\n        }\n      }, \"genero\")), this.state.cuentahabientes.length > 0 ? this.state.cuentahabientes.map(function (cuentahabiente) {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: \"\".concat(cuentahabiente.abreviacion),\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 21\n          }\n        }, cuentahabiente.cui), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 21\n          }\n        }, cuentahabiente.nombre), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 21\n          }\n        }, cuentahabiente.apellido), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 21\n          }\n        }, cuentahabiente.email), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 21\n          }\n        }, cuentahabiente.fecha_registro), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 21\n          }\n        }, cuentahabiente.genero), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-danger\",\n          onClick: function onClick(e) {\n            e.preventDefault();\n\n            _this3.eliminarCuentahabiente(cuentahabiente.cui);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 23\n          }\n        }, \"Eliminar\")));\n      }) : /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 17\n        }\n      }, \"Cargando...\")))));\n    }\n  }]);\n\n  return Home;\n}(React.Component);\n\nexport default Home;","map":{"version":3,"sources":["/app/src/pages/Home.js"],"names":["React","Link","axios","Panel","PanelHeader","PanelBody","Home","state","instituciones_financieras","cuentahabientes","crearNuevaEntidadFinanciera","e","preventDefault","inputs","target","getElementsByTagName","data","nombre","value","abreviacion","post","then","response","push","payload","setState","error","console","log","eliminarInstitucion","pop","eliminarCuentahabiente","cui","get","res","JSON","parse","length","map","institucion_financiera","cuentahabiente","apellido","email","fecha_registro","genero","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Panel, PanelHeader, PanelBody } from \"./../components/panel/panel.jsx\";\n\nclass Home extends React.Component {\n  state = {\n    instituciones_financieras: [],\n    cuentahabientes: [],\n  };\n\n  componentDidMount() {\n    axios.get(\"http://localhost:5000/api/institucion/list\").then((res) => {\n      const instituciones_financieras = res.data;\n      this.setState({\n        instituciones_financieras: JSON.parse(\n          instituciones_financieras.payload\n        ),\n      });\n    });\n\n    axios.get(\"http://localhost:5000/api/cuentahabiente/list\").then((res) => {\n      const cuentahabientes = res.data;\n      this.setState({\n        cuentahabientes: JSON.parse(cuentahabientes.payload),\n      });\n    });\n  }\n\n  crearNuevaEntidadFinanciera = (e) => {\n    e.preventDefault();\n    let { instituciones_financieras } = this.state;\n    let inputs = e.target.getElementsByTagName(\"input\");\n    let data = {\n      nombre: inputs[0].value,\n      abreviacion: inputs[1].value,\n    };\n    // instituciones_financieras.push(data);\n    // this.setState({ instituciones_financieras: instituciones_financieras });\n    axios.post(\"http://localhost:5000/api/institucion/create/\", data).then(\n      (response) => {\n        instituciones_financieras.push(response.data.payload);\n        this.setState({ instituciones_financieras: instituciones_financieras });\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  };\n\n  // deleteOnClick = (e, nombre, abreviacion) => {\n  //   e.preventDefault();\n  // };\n  eliminarInstitucion = (nombre, abreviacion) => {\n    console.log(\"Eliminar tal cosa\");\n    let { instituciones_financieras } = this.state;\n    let data = {\n      nombre: nombre,\n      abreviacion: abreviacion,\n    };\n    axios.post(\"http://localhost:5000/api/institucion/delete/\", data).then(\n      (response) => {\n        instituciones_financieras.pop(response.data.payload);\n        this.setState({ instituciones_financieras: instituciones_financieras });\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  };\n\n  eliminarCuentahabiente = (cui) => {\n    let { instituciones_financieras } = this.state;\n    let data = {\n      cui: cui,\n    };\n    axios.post(\"http://localhost:5000/api/institucion/delete/\", data).then(\n      (response) => {\n        instituciones_financieras.pop(response.data.payload);\n        this.setState({ instituciones_financieras: instituciones_financieras });\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  };\n\n  render() {\n    return (\n      <div>\n        <ol className=\"breadcrumb float-xl-right\">\n          <li className=\"breadcrumb-item\">\n            <Link to=\"/\">Sistema SIST</Link>\n          </li>\n          <li className=\"breadcrumb-item active\">Listar, Crear, Actualizar</li>\n        </ol>\n        <h1 className=\"page-header\">\n          Sistema SIST\n          <br />\n          <small>Sistema SIST para el proyecto final de Bases de Datos 2</small>\n        </h1>\n        <Panel>\n          <PanelHeader>Entidades Financieras Existentes</PanelHeader>\n          <PanelBody>\n            <table className=\"w-100\">\n              <tr>\n                <th>Nombre</th>\n                <th>Abreviación</th>\n                <th>Acciones</th>\n              </tr>\n              {this.state.instituciones_financieras.length > 0 ? (\n                this.state.instituciones_financieras.map(\n                  (institucion_financiera) => (\n                    <tr key={`${institucion_financiera.abreviacion}`}>\n                      <td>{institucion_financiera.nombre}</td>\n                      <td>{institucion_financiera.abreviacion}</td>\n                      <td>\n                        <button\n                          className=\"btn btn-danger\"\n                          onClick={(e) => {\n                            e.preventDefault();\n                            this.eliminarInstitucion(\n                              institucion_financiera.nombre,\n                              institucion_financiera.abreviacion\n                            );\n                          }}\n                        >\n                          Eliminar\n                        </button>\n                      </td>\n                    </tr>\n                  )\n                )\n              ) : (\n                <h1>Cargando...</h1>\n              )}\n            </table>\n          </PanelBody>\n        </Panel>\n        <Panel>\n          <PanelHeader>Crear una nueva entidad financiera</PanelHeader>\n          <PanelBody>\n            <form onSubmit={this.crearNuevaEntidadFinanciera}>\n              <div className=\"form-group row m-b-15\">\n                <label className=\"col-form-label col-md-3\">Nombre</label>\n                <div className=\"col-md-9\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control m-b-5\"\n                    placeholder=\"Nombre de la entidad bancaria\"\n                    name=\"nombre\"\n                  />\n                  <small className=\"f-s-12 text-grey-darker\">\n                    Nombre de la entidad financiera\n                  </small>\n                </div>\n              </div>\n              {/* <!--Begin--> */}\n              <div className=\"form-group row m-b-15\">\n                <label className=\"col-form-label col-md-3\">Abreviatura</label>\n                <div className=\"col-md-9\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control m-b-5\"\n                    placeholder=\"Introduce una abreviatura\"\n                    name=\"abreviacion\"\n                  />\n                  <small className=\"f-s-12 text-grey-darker\">\n                    Abreviatura de la entidad bancaria\n                  </small>\n                </div>\n              </div>\n              {/* End */}\n              <button className=\"btn btn-reddit\">\n                Registrar nueva entidad financiera\n              </button>\n            </form>\n          </PanelBody>\n        </Panel>\n\n        {/* Inicio de Cuenta habientes */}\n        <hr />\n        <Panel>\n          <PanelHeader>Cuentahabientes Existentes</PanelHeader>\n          <PanelBody>\n            <table className=\"w-100\">\n              <tr>\n                <th>Cui</th>\n                <th>Nombre</th>\n                <th>Apellido</th>\n                <th>Email</th>\n                <th>fecha_registro</th>\n                <th>genero</th>\n              </tr>\n              {this.state.cuentahabientes.length > 0 ? (\n                this.state.cuentahabientes.map((cuentahabiente) => (\n                  <tr key={`${cuentahabiente.abreviacion}`}>\n                    <td>{cuentahabiente.cui}</td>\n                    <td>{cuentahabiente.nombre}</td>\n                    <td>{cuentahabiente.apellido}</td>\n                    <td>{cuentahabiente.email}</td>\n                    <td>{cuentahabiente.fecha_registro}</td>\n                    <td>{cuentahabiente.genero}</td>\n                    <td>\n                      <button\n                        className=\"btn btn-danger\"\n                        onClick={(e) => {\n                          e.preventDefault();\n                          this.eliminarCuentahabiente(cuentahabiente.cui);\n                        }}\n                      >\n                        Eliminar\n                      </button>\n                    </td>\n                  </tr>\n                ))\n              ) : (\n                <h1>Cargando...</h1>\n              )}\n            </table>\n          </PanelBody>\n        </Panel>\n        {/* Final de Cuenta habientes */}\n      </div>\n    );\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}